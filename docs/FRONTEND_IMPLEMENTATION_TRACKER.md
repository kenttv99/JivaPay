# Трекер Реализации Frontend JivaPay

Этот документ помогает отслеживать, что уже сделано в фронтенд-части JivaPay, а что еще предстоит реализовать. Он основан на архитектуре, описанной в `README_ARCHITECTURE_FRONTEND.md`.

Статус задач:
- [ ] Не начато
- [x] Готово
- [/] В процессе

Для каждой задачи можно добавить комментарии, ссылки на PR или коммиты.

---

## 1. Общая Настройка Проекта и Монорепозитория

- [ ] **Настройка Монорепозитория**: Выбор и конфигурация инструмента (например, Turborepo, Nx, Lerna).
- [ ] **Настройка CI/CD**: Базовая настройка CI/CD для сборки и линтинга фронтенд-приложений.
- [ ] **Генерация Типов из OpenAPI**: Настройка автоматической генерации TypeScript типов на основе OpenAPI спецификации бэкенда.
- [ ] **Общие Инструменты Качества Кода**:
    - [ ] Конфигурация ESLint для TypeScript/React.
    - [ ] Конфигурация Prettier для форматирования кода.
    - [ ] Конфигурация Stylelint для CSS/SCSS.

---

## 2. Общие Пакеты (`packages/`) в Монорепозитории

### 2.1. `ui-kit` (Библиотека Общих Компонентов)
- [ ] **Разработка Базовых Компонентов**:
    - [x] Button (базовая реализация)
    - [ ] Input (Text, Number, Textarea, etc.)
    - [ ] Checkbox, RadioButton
    - [ ] Select, Dropdown
    - [ ] Modal
    - [ ] Table
    - [ ] Tabs
    - [ ] Accordion
    - [ ] Tooltip, Popover
    - [ ] Spinner/Loader
    - [ ] Notifications/Alerts
    - [ ] Pagination
    - [ ] Breadcrumbs
    - [ ] Avatar
    - [ ] Card
    - [ ] Iconography system
- [ ] **Темизация**:
    - [ ] Реализация темизации через CSS Custom Properties (определение базовых переменных).
    - [ ] Механизм смены тем (например, светлая/темная), если требуется.
- [ ] **Кастомизация**: Проработка API компонентов для гибкой настройки через пропсы.
- [ ] **Документация Компонентов**: Настройка Storybook или аналога для визуального тестирования и документации компонентов `ui-kit`.
- [ ] **Доступность (a11y)**: Обеспечение соответствия компонентов стандартам доступности.

### 2.2. `types` (Общие Типы)
- [ ] Определение общих TypeScript интерфейсов и типов, используемых в нескольких приложениях (кроме генерируемых из OpenAPI).

### 2.3. `utils` (Общие Утилиты)
- [ ] Создание общих вспомогательных функций (форматирование дат, работа со строками, валидаторы и т.д.).

### 2.4. `hooks` (Общие Хуки)
- [ ] Разработка общих переиспользуемых React хуков (например, `useDebounce`, `useLocalStorage`, `useMediaQuery`).

### 2.5. `config` (Общие Настройки)
- [ ] Определение общих констант и настроек, используемых фронтенд-приложениями (например, URL API, ключи).

### 2.6. `i18n` (Интернационализация)
- [ ] **Настройка Библиотеки**: Выбор и настройка `i18next` с `react-i18next`.
- [ ] **Структура Переводов**: Создание структуры для общих JSON файлов переводов (например, `en.json`, `ru.json`).
- [ ] **Механизм Загрузки**: Реализация загрузки общих переводов в приложения.
- [ ] **Базовые Общие Ключи**: Добавление переводов для общих элементов `ui-kit` (например, "Сохранить", "Отмена").

---

## 3. Разработка Приложений

Этот раздел повторяется для каждого приложения: `admin_app`, `merchant_app`, `trader_app`, `support_app`, `teamlead_app`.

### 3.X. Приложение Администратора (`admin_app`)
- **Начальная Настройка**:
    - [x] Создание структуры директорий (`assets`, `components`, `app`, `layouts`, `services`, `hooks`, `animations`, `store`, `contexts`, `types`, `utils`, `locales`, `styles`).
    - [x] Настройка базового роутинга (Next.js App Router).
    - [x] Подключение глобальных стилей (`styles/globals.css`).
    - [x] Создание и подключение файла темы (`styles/theme.css` с CSS переменными).
    - [x] Интеграция с `ui-kit` (создан базовый ui-kit с Button, подключен к admin_app, настроена транспиляция).
    - [ ] Настройка специфичных для приложения переводов и их слияние с общими.
- **Реализация `layouts/`**:
    - [x] `MainLayout.tsx` (базовая двухколоночная структура создана).
    - [ ] `AuthLayout.tsx` (для страниц аутентификации).
- **Реализация `components/`**:
    - [x] `widgets/AccountNavigation/AccountNavigation.tsx` (создан).
    - [x] `features/PaymentCard/PaymentCard.tsx` (создан, имитирует UI).
    - [ ] `ui/`: Разработка специфичных для `admin_app` мелких UI-компонентов (если не покрываются `ui-kit`).
- **Реализация Страниц (`app/`)**:
    - [x] `app/dashboard/page.tsx` (тестовая страница создана).
    - [ ] Страница аутентификации.
    - [ ] Дашборд со статистикой.
    - [ ] Управление пользователями (список, создание, редактирование, роли, права).
    - [ ] Управление реквизитами.
    - [ ] Системные настройки (управление настройками из БД).
    - [ ] Логи и мониторинг (просмотр аудита, системных ошибок).
    - [ ] Настройки профиля администратора.
- **Реализация `services/`**:
    - [ ] Настройка инстанса Axios/fetch для API `admin_app`.
    - [ ] Функции для взаимодействия с эндпоинтами администратора.
- **Реализация `store/` / `contexts/`**:
    - [ ] Управление состоянием аутентификации.
    - [ ] Состояние для списков, форм, фильтров.
- **Безопасность**:
    - [ ] Реализация безопасного хранения JWT токена.
    - [ ] Проверка и очистка вводимых данных для предотвращения XSS.
- **Анимации (`animations/`)**:
    - [ ] Определение и реализация анимаций переходов, появления элементов, если требуется.

*(Аналогичные секции для `merchant_app`, `trader_app`, `support_app`, `teamlead_app` будут помечены как `[ ]`)*

### 3.Y. Приложение Мерчанта (`merchant_app`)
- [ ] Начальная настройка (структура, роутинг, стили, тема, i18n)
- [ ] Реализация `layouts/`
- [ ] Реализация `components/` (ui, features, widgets)
- [ ] Реализация Страниц (`app/`)
    - [ ] Дашборд с балансами и статистикой
    - [ ] Список магазинов с настройками
    - [ ] История ордеров
    - [ ] Настройки профиля
    - [ ] Документация по API
- [ ] Реализация `services/`
- [ ] Реализация `store/` / `contexts/`
- [ ] Безопасность

### 3.Z. Приложение Трейдера (`trader_app`)
- [ ] Начальная настройка
- [ ] Реализация `layouts/`
- [ ] Реализация `components/`
- [ ] Реализация Страниц (`app/`)
    - [ ] Дашборд с балансами
    - [ ] Управление реквизитами
    - [ ] Назначенные ордера
    - [ ] История балансов
    - [ ] Настройки профиля
- [ ] Реализация `services/`
- [ ] Реализация `store/` / `contexts/`
- [ ] Безопасность

### 3.W. Приложение Саппорта (`support_app`)
- [ ] Начальная настройка
- [ ] Реализация `layouts/`
- [ ] Реализация `components/`
- [ ] Реализация Страниц (`app/`)
    - [ ] Универсальный поиск
    - [ ] Просмотр ордеров
    - [ ] Просмотр пользователей
    - [ ] Настройки профиля
- [ ] Реализация `services/`
- [ ] Реализация `store/` / `contexts/`
- [ ] Безопасность

### 3.V. Приложение Тимлида (`teamlead_app`)
- [ ] Начальная настройка
- [ ] Реализация `layouts/`
- [ ] Реализация `components/`
- [ ] Реализация Страниц (`app/`)
    - [ ] Статистика команды
    - [ ] Управление трейдерами (назначение, статусы)
    - [ ] Просмотр реквизитов команды
    - [ ] Настройки профиля
- [ ] Реализация `services/`
- [ ] Реализация `store/` / `contexts/`
- [ ] Безопасность

---

## 4. Интеграция Платежного Шлюза (Фронтенд Часть)

- [ ] **Хостируемая Страница Оплаты**:
    - [ ] Кастомизация UI страницы (если это делается на фронтенде JivaPay, а не только мерчантом).
    - [ ] Обработка взаимодействия пользователя на странице.
- [ ] **Платежный Виджет**:
    - [ ] Разработка UI виджета (если он предоставляется JivaPay).
    - [ ] Реализация логики встраивания виджета на сайт мерчанта.
    - [ ] API взаимодействия с виджетом.

---

## 5. Тестирование Фронтенда

- [ ] **Unit-тесты**:
    - [ ] Настройка Jest/Vitest и React Testing Library.
    - [ ] Покрытие тестами утилит, хуков, сервисных функций.
    - [ ] Тестирование логики компонентов.
- [ ] **Компонентные Тесты**:
    - [ ] Тестирование UI-компонентов (включая `ui-kit`) через React Testing Library и Storybook.
- [ ] **Интеграционные Тесты**:
    - [ ] Тестирование взаимодействия между компонентами, страницами и сервисами.
- [ ] **E2E Тесты**:
    - [ ] Настройка Cypress или Playwright.
    - [ ] Написание тестов для ключевых пользовательских сценариев в каждом приложении.

---

## 6. Развертывание и CI/CD Фронтенда

- [ ] **Сборка Приложений**: Оптимизация сборки для production (tree-shaking, code splitting, lazy loading).
- [ ] **Деплой**: Настройка деплоя каждого приложения на свой поддомен.
- [ ] **CI/CD Пайплайны**:
    - [ ] Автоматизация линтинга, тестирования, сборки и деплоя при изменениях в коде.
    - [ ] Настройка preview-деплоев для веток.

---

## 7. UI/UX Ревью и Доступность

- [ ] **UI/UX Ревью**: Проведение регулярных ревью интерфейсов с дизайнерами и UX-специалистами.
- [ ] **Доступность (a11y)**:
    - [ ] Проверка на соответствие WCAG стандартам.
    - [ ] Учет `prefers-reduced-motion` для анимаций.
    - [ ] Тестирование с использованием скрин-ридеров и клавиатурной навигации.

--- 