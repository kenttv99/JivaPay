# @jivapay/permissions - –ö—Ä–∞—Ç–∫–∏–π –æ–±–∑–æ—Ä

## üéØ –ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ
–¶–µ–Ω—Ç—Ä–∞–ª–∏–∑–æ–≤–∞–Ω–Ω–∞—è —Å–∏—Å—Ç–µ–º–∞ –ø—Ä–∞–≤ –¥–æ—Å—Ç—É–ø–∞ –¥–ª—è –≤—Å–µ—Ö 5 –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–π JivaPay –º–æ–Ω–æ—Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏—è.

## ‚úÖ –¢–µ–∫—É—â–∏–π —Å—Ç–∞—Ç—É—Å: –ì–û–¢–û–í –ö –ò–°–ü–û–õ–¨–ó–û–í–ê–ù–ò–Æ

### üì¶ –ü–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ–º—ã–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è:
- `admin_app` - –ø–∞–Ω–µ–ª—å –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–∞
- `trader_app` - –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å —Ç—Ä–µ–π–¥–µ—Ä–∞ (+ –¥–µ–º–æ–Ω—Å—Ç—Ä–∞—Ü–∏—è)
- `merchant_app` - –∫–∞–±–∏–Ω–µ—Ç –º–µ—Ä—á–∞–Ω—Ç–∞
- `support_app` - –ø–∞–Ω–µ–ª—å –ø–æ–¥–¥–µ—Ä–∂–∫–∏
- `teamlead_app` - –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å —Ç–∏–º–ª–∏–¥–∞

### üîë –†–æ–ª–∏ –∏ –æ—Å–Ω–æ–≤–Ω—ã–µ –ø—Ä–∞–≤–∞:
```typescript
admin: ['*:*:*']                               // –ü–æ–ª–Ω—ã–π –¥–æ—Å—Ç—É–ø
support: ['users:view:assigned', 'tickets:manage:own', ...]
teamlead: ['users:view:team', 'trader:manage:team', ...]
merchant: ['orders:view:own', 'merchant:payments:manage', ...]
trader: ['requisites:manage:own', 'orders:process:assigned', ...]
```

## üöÄ –ë—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç

### 1. –í –ø—Ä–æ–≤–∞–π–¥–µ—Ä–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è:
```tsx
import { AppPermissionProvider } from '@/providers/AppPermissionProvider';

<AppPermissionProvider>
  <YourApp />
</AppPermissionProvider>
```

### 2. –í –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞—Ö:
```tsx
import { PermissionGuard, usePermissions } from '@jivapay/permissions';

// –ó–∞—â–∏—Ç–∞ UI —ç–ª–µ–º–µ–Ω—Ç–æ–≤
<PermissionGuard permission="orders:view:own">
  <OrdersTable />
</PermissionGuard>

// –ü—Ä–æ–≥—Ä–∞–º–º–Ω–∞—è –ø—Ä–æ–≤–µ—Ä–∫–∞
const { hasPermission } = usePermissions();
if (hasPermission('admin:*:*')) {
  // –õ–æ–≥–∏–∫–∞ –¥–ª—è –∞–¥–º–∏–Ω–∞
}
```

## üìÅ –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø–∞–∫–µ—Ç–∞:
```
packages/permissions/
‚îú‚îÄ‚îÄ src/
‚îÇ   ‚îú‚îÄ‚îÄ index.ts              # –ì–ª–∞–≤–Ω—ã–π —ç–∫—Å–ø–æ—Ä—Ç
‚îÇ   ‚îú‚îÄ‚îÄ types.ts              # –¢–∏–ø—ã –∏ –∫–æ–Ω—Å—Ç–∞–Ω—Ç—ã –ø—Ä–∞–≤
‚îÇ   ‚îú‚îÄ‚îÄ PermissionContext.tsx # React Context
‚îÇ   ‚îú‚îÄ‚îÄ usePermissions.ts     # –•—É–∫ –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å –ø—Ä–∞–≤–∞–º–∏
‚îÇ   ‚îú‚îÄ‚îÄ PermissionGuard.tsx   # –ö–æ–º–ø–æ–Ω–µ–Ω—Ç –∑–∞—â–∏—Ç—ã UI
‚îÇ   ‚îî‚îÄ‚îÄ utils.ts              # –£—Ç–∏–ª–∏—Ç—ã
‚îú‚îÄ‚îÄ README.md                 # –ü–æ–ª–Ω–∞—è –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è
‚îî‚îÄ‚îÄ SUMMARY.md                # –≠—Ç–æ—Ç —Ñ–∞–π–ª
```

## üé® –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å ui-kit:
- ‚úÖ –°–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç—å —Å–æ –≤—Å–µ–º–∏ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞–º–∏ ui-kit
- ‚úÖ –ü–æ–¥–¥–µ—Ä–∂–∫–∞ PermissionGuard –¥–ª—è –ª—é–±—ã—Ö React —ç–ª–µ–º–µ–Ω—Ç–æ–≤
- ‚úÖ –°—Ç–∏–ª–∏–∑–∞—Ü–∏—è —á–µ—Ä–µ–∑ CSS –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ ui-kit

## üîç –î–µ–º–æ–Ω—Å—Ç—Ä–∞—Ü–∏—è:
–†–∞–±–æ—á–∏–π –ø—Ä–∏–º–µ—Ä –≤ `trader_app/src/app/page.tsx` –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç:
- –£—Å–ª–æ–≤–Ω—ã–π —Ä–µ–Ω–¥–µ—Ä–∏–Ω–≥ —Å–µ–∫—Ü–∏–π –ø–æ –ø—Ä–∞–≤–∞–º
- –û—Ç–ª–∞–¥–æ—á–Ω—É—é –ø–∞–Ω–µ–ª—å —Å –ø—Ä–æ–≤–µ—Ä–∫–æ–π –ø—Ä–∞–≤
- –†–∞–∑–ª–∏—á–Ω—ã–µ —Å—Ü–µ–Ω–∞—Ä–∏–∏ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è PermissionGuard

## üõ† API –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è:
–ü—Ä–æ–≤–∞–π–¥–µ—Ä—ã –≥–æ—Ç–æ–≤—ã –∫ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—é —Ä–µ–∞–ª—å–Ω–æ–≥–æ API:
```typescript
// –í AppPermissionProvider.tsx –∑–∞–º–µ–Ω–∏—Ç–µ mock –¥–∞–Ω–Ω—ã–µ –Ω–∞:
const response = await fetch('/api/auth/me');
const userData = await response.json();
```

## üîí –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å:
‚ö†Ô∏è **–í–∞–∂–Ω–æ**: –°–∏—Å—Ç–µ–º–∞ –ø—Ä–µ–¥–Ω–∞–∑–Ω–∞—á–µ–Ω–∞ —Ç–æ–ª—å–∫–æ –¥–ª—è UX —É–ª—É—á—à–µ–Ω–∏–π.  
–í—Å–µ –∫—Ä–∏—Ç–∏—á–Ω—ã–µ –ø—Ä–æ–≤–µ—Ä–∫–∏ –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏ –¥–æ–ª–∂–Ω—ã –≤—ã–ø–æ–ª–Ω—è—Ç—å—Å—è –Ω–∞ backend!

## üìö –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è:
- –ü–æ–ª–Ω–∞—è –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è: `packages/permissions/README.md`
- –ü—Ä–∏–º–µ—Ä—ã –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è: `trader_app/src/app/page.tsx`
- API reference: –≤—Å–µ —ç–∫—Å–ø–æ—Ä—Ç—ã –≤ `packages/permissions/src/index.ts` 